@using StpFoodBlazor.Components.Pages
@using StpFoodBlazor.Services

@code {
    [Fact]
    public void DealsShouldDisplayText()
    {
        using var ctx = new TestContext();
        ctx.Services.AddSingleton<IDealService>(new TestDealService());
        var cut = ctx.Render(@<Deals />);
        cut.WaitForElement("#deals_table_body");
        var tbody = cut.Find("tbody");

        Assert.Equal(324, tbody.ChildElementCount);
        Assert.Equal("Asian Express", tbody.Children[0].Children[0].InnerHtml);
        Assert.Equal("$12.95 combo", tbody.Children[0].Children[1].InnerHtml);
        Assert.Equal("Monday", tbody.Children[0].Children[2].InnerHtml);
    }
}
